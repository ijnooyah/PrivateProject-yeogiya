<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.yj.yeogiya.member">

<!-- ************CREATE************ -->


	<!-- 회원가입 -->
	<insert id="insertMember">
		insert into tbl_member 
		(user_id, user_pw, user_name, user_nick,
		 user_phone, user_email, sort_local, sub_local, user_gender)
		values 
		(#{user_id}, #{user_pw}, #{user_name}, #{user_nick}, 
		#{user_phone}, #{user_email}, #{sort_local, jdbcType=VARCHAR},
		#{sub_local, jdbcType=VARCHAR}, #{user_gender, jdbcType=CHAR})
	</insert>

<!-- ************READ************ -->
	<!-- 아이디 중복체크 -->
 	<select id="checkDupId" resultType="int">
 		select count(*) from tbl_member
 		where user_id = #{user_id}
 	</select>
 	<!-- 닉네임 중복체크 -->
 	<select id="checkDupNick" resultType="int">
 		select count(*) from tbl_member
 		where user_nick = #{user_nick} and is_quit = 'N'
 	</select>
 	
 	<!-- 로그인 -->
 	<select id="login" resultType="Member">
 		select * from tbl_member
 		where user_id = #{user_id} and user_pw = #{user_pw} and is_quit = 'N'
 	</select>
 	
 	<!-- 아이디로 멤버 얻기 -->
 	<select id="selectMember" resultType="Member">
 		select * from tbl_member
 		where user_id = #{user_id} and is_quit = 'N'
 	</select>
 	<!-- 아이디찾기 -->
 	<select id="findId" resultType="Member">
 		select * from tbl_member
 		where user_name = #{user_name} and user_email = #{user_email} and is_quit = 'N' 
 	</select>
 	
<!-- ************UPDATE************ -->
<!-- ************DELETE************ -->
	
</mapper>